
//specify the package in which the generated class will be
option java_package = "buffers";
option optimize_for = SPEED;

//request structure
message Response {

	//define the types of responses 
	enum ResType { ACT = 1; CALLREC = 2; ECALL = 3; FLIST = 4; CALLINQ = 5; STS = 6;}

	//type of response
	required ResType res_type = 1;

	//request result filed for type ACT
	optional ReqResult req_result = 3;
	
	//call response field for type CALL
	optional CallResponse call_response = 4;
	
	//endcall field for type ECALL
	optional bool endCall = 5;
    
    //friend list field
    optional FriendList list = 6;
    
    //username field for CALLINQ
    optional string username = 7;
    
    //status of a user - available/unavailable
    optional bool status = 8;

	//request result message structure
	message ReqResult {
		required bool ok = 1;
		required string cause = 2;
	}

	//call response message structure
	message CallResponse {
		//if callee is online, we specify the ip address
		required string ip_address = 1;
		
		//specify a call ID (int) generated by the server
		required int32 callID = 2;
	}
    
    message FriendList {
        repeated string username = 1;
    }

}
